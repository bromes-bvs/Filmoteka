!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=t.parcelRequired76b;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired76b=i),i.register("iE7OH",(function(t,r){var n,i;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var o={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)o[t[r]]=e[t[r]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var i={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),i[e]=t),t}})),i("iE7OH").register(JSON.parse('{"9zafZ":"library.78a22cbd.js","hyIe0":"empty-collection-min.be2b13eb.png","7mVsD":"index.2b5100b0.css","jF3vp":"index.25b5f903.js"}'));var o=i("l4BJK"),a=i("6nH8Q"),l=i("bQ26w");function c(e){try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}}var s=i("7Sf3J");const f=document.querySelector('[data-id="watched-btn"]'),u=document.querySelector('[data-id="queue-btn"]');document.querySelector(".library-buttons__wrapper").addEventListener("click",(function(e){if(e.target.classList.contains("is-active"))return;return f.classList.toggle("is-active"),void u.classList.toggle("is-active")}));var d;d=i("aNJCr").getBundleURL("9zafZ")+i("iE7OH").resolve("hyIe0");const p=new URL(d);function g(){const e=`<li><img class="empty-collection-img" width="240" src=${p.pathname}></li><li><p class="empty-collection-text">Collection is empty. You need to add a movie.</p></li>`;s.galleryRef.innerHTML=e,s.galleryRef.classList.add("empty-gallery")}const y="watch";function v(){if(s.galleryRef.innerHTML="",localStorage.watch){if(localStorage.watch){const e=c(y);if(0===e.length)return void g();s.galleryRef.classList.contains("empty-gallery")&&s.galleryRef.classList.remove("empty-gallery");const t=e.map((e=>(0,o.fetchMovie)(e)));Promise.all(t).then((e=>{const t=e.map((({poster_path:e,backdrop_path:t,original_title:r,title:n,genres:i,release_date:o,vote_average:c,id:s})=>{const f=i.map((e=>e.id));return(0,l.prepareGalleryInfo)(e,t,r,n,f,o,c,s,a.findGenres)})).join("");s.galleryRef.innerHTML=t}))}}else g()}v(),f.addEventListener("click",v);const m="queue";u.addEventListener("click",(function(){if(s.galleryRef.innerHTML="",localStorage.queue){if(localStorage.queue){const e=c(m);if(0===e.length)return void g();s.galleryRef.classList.contains("empty-gallery")&&s.galleryRef.classList.remove("empty-gallery");const t=e.map((e=>(0,o.fetchMovie)(e)));Promise.all(t).then((e=>{const t=e.map((({poster_path:e,backdrop_path:t,original_title:r,title:n,genres:i,release_date:o,vote_average:c,id:s})=>{const f=i.map((e=>e.id));return(0,l.prepareGalleryInfo)(e,t,r,n,f,o,c,s,a.findGenres)})).join("");s.galleryRef.innerHTML=t}))}}else g()}))}();
//# sourceMappingURL=library.78a22cbd.js.map
